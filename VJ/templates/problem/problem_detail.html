{% extends "base.html" %}
{% from "_macro/_formhelpers.html" import render_field %}

{% block title %}{{ problem.origin_oj|upper }} {{ problem.problem_id }} | Virtual Judge{% endblock %}

{% block page_content %}
<div class="row">
  <div id="problem_body" class="col-md-12">
    <div class="center-block text-center">
      <div id="problem_title">
        <h1>{{ problem.origin_oj|upper }}</h1>
        <h1>{{ problem.title }}</h1>
      </div>
      <div id="problem_info">
        <p>Accept : {{ problem.accept|safe }}</p>
        <p>Submit : {{ problem.submit|safe }}</p>
        <p>Memory Limit : {{ problem.memory_limit|safe }}</p>
        <p>Time Limit : {{ problem.time_limit|safe }}</p>
      </div>
    </div>
    <h2>Description</h2>
    <div id="problem_description">
      {{ problem.description|safe }}
    </div>
    {% if problem.input %}
    <h2>Input</h2>
    <div id="problem_input">
      {{ problem.input|safe }}
    </div>
    {% endif %}
    {% if problem.output %}
    <h2>Output</h2>
    <div id="problem_output">
      {{ problem.output|safe }}
    </div>
    {% endif %}
    <h2>Sample Input</h2>
    <div id="problem_sampleinput">
      {{ problem.sample_input|safe }}
    </div>
    <h2>Sample Output</h2>
    <div id="problem_sampleoutput">
      {{ problem.sample_output|safe }}
    </div>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#submitModal">
    Submit
    </button>

    <!-- Modal -->
    <div class="modal fade" id="submitModal" tabindex="-1" role="dialog" aria-labelledby="submitModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="submitModalLabel">提交代码</h4>
          </div>
          <form method=post action="/problem/submit">
            <div class="modal-body">
                {{ render_field(form.origin_oj, disabled="disabled", value=problem.origin_oj|upper) }}
                {{ render_field(form.problem_id, disabled="disabled", value=problem.problem_id) }}
                {{ render_field(form.language, required="required") }}
                {{ render_field(form.code, rows="9", required="required") }}
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
